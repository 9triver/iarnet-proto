syntax = "proto3";

package resource.logger;

option go_package = "github.com/9triver/iarnet/internal/proto/resource/logger";

import "common/logger.proto";

message LogStreamMessage {
  string component_id = 1;
  oneof message {
    common.LogEntry entry = 2;            // 日志条目
    common.StreamControl control = 3;     // 控制消息
  }
}

message LogStreamResponse {
  string component_id = 1;
  bool success = 2;
  string error = 3;
  int32 processed_count = 4;      // 已处理的日志数量
  string message = 5;              // 响应消息
}

service LoggerService {
  rpc StreamLogs(stream LogStreamMessage) returns (stream LogStreamResponse);
}
