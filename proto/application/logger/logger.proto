syntax = "proto3";

package application.logger;

option go_package = "github.com/9triver/iarnet/internal/proto/application/logger";

import "common/logger.proto";


// 流式日志消息（客户端 -> 服务端）
message LogStreamMessage {
  string application_id = 1;
  common.LogEntry entry = 2;
}

// 流式日志响应（服务端 -> 客户端）
message LogStreamResponse {
  string application_id = 1;
  bool success = 2;
  string error = 3;
  int32 processed_count = 4;       // 已处理的日志数量
  string message = 5;              // 响应消息
}

service LoggerService {
  rpc StreamLogs(stream LogStreamMessage) returns (stream LogStreamResponse);
}
